Проект ТатарИле
============================

Структура папок сайта
-------------------

      assets/             Хранятся ассеты (групповое подключение css,js - если они общие для сайта)
      backend/            Управление контентом (backend часть делаем тут)
      commands/           Хранение консольных контроллеров
      components/         Хранятся компоненты yii2
      config/             Хранятся настройки сайта (+настройки БД)
      controllers/        Хранение общих контроллеров 
      mail/               Хранение view для email сообщений 
	  messages/           Хранение локалей (управляющие слова на сайте)
	  migrations/         Хранятся миграции базы данных 
      models/             Хранение общих моделей
	  modules/            Отдельные модули проекта (админка, модули)
	      |---> admin          Админ-модуль (управление системными функциями)
      runtime/            Хранение файлов, которые создает система при работе
      tests/              Системные тесты для приложения
      vendor/             Системная папка для хранения пакетов
      views/              Хранение общих views
      web/                Содержит веб-ресурсы и входной скрипт index.php
      widgets/            Виджеты
          |---> assets        Ассеты для виджетов
          |       |---> css
          |       |---> js
          |---> views         Файлы view для виджетов



Зависимости
------------

```PHP``` выше версии ```5.4.0.```

Для гита выполнить команду ```git config --global core.autocrlf true```


Установка
------------

Выполнить

```git clone Ваш репрозиторий```

Перейти в папку с приложением

Выполнить*

```php composer.phar global require "fxp/composer-asset-plugin:^1.2.0"```

```php composer.phar update```

*Если ```composer``` установлен глобально то команду ```php composer.phar``` можно заменить на ```composer```

** Хэш для ```composer``` : ```b607d8c0fbad4dd3af50b8540d72ba29f0b99b52 ```


Установить входную директорию (где лежит входной скрипт ```index.php```) для веб-сервера на папку ```web```

Например, для ```nginx:``` ```/var/www/tatarileyii2/web```


Настройка
-------------

База данных

Создать файл ```config/db-local.php```, следующего содержания:
```
<?php
return [
    'class' => 'yii\db\Connection',
    'dsn' => 'mysql:host=localhost;dbname=НАЗВАНИЕ_ЛОКАЛЬНОЙ_БД',
    'username' => 'ИМЯ_ЛОКАЛЬНОГО_ПОЛЬЗОВАТЕЛЯ_ДЛЯ БД',
    'password' => 'ПАРОЛЬ_ДЛЯ_ПОДКЛЮЧЕНИЯ_К_БД',
    'charset' => 'utf8',
];
```
Сделать импорт начальной базы данных с файла ```yii2tatarile.sql```

Выполнить миграции командой ```php yii migrate```


Информация
--------

Для создания стандартных контроллеров, моделей, модулей, форм можно использовать конструктор ```gii```, для этого пройти по ```URL```: ```mysite/gii```